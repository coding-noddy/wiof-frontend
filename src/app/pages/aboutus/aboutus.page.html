<app-header></app-header>

<div class="p-4">
  <mat-toolbar class="mt-2">
    <span>About Us</span>
    <span class="flex-1"></span>
    <app-back-button class="back-button"></app-back-button>
  </mat-toolbar>
  <div class="container mx-auto">
    <div class="flex flex-wrap">
      <!-- Loop through profiles using the observable and async pipe -->
      <div
        class="p-4 profile-card-container w-full md:w-1/2 lg:w-1/3 xl:w-1/4"
        *ngFor="let profile of aboutUsProfiles$ | async"
      >
        <mat-card class="m-4 profile-card">
          <mat-card-content class="p-0">
            <!-- Default Profile View -->
            <div class="flex flex-wrap" *ngIf="!profile.showKnowMore">
              <div class="w-full profile-header">
                <img
                  class="profile-image"
                  [src]="profile.imageLink"
                  [alt]="'Profile image of ' + profile.name"
                />
                <mat-card-title class="profile-name">
                  {{ profile.name }}
                </mat-card-title>
                <p class="linked-in-container">
                  <mat-icon
                    *ngIf="profile.socialLink"
                    class="logo"
                  >business</mat-icon>
                  <a
                    *ngIf="profile.socialLink"
                    [href]="profile.socialLink"
                    target="_blank"
                    class="link"
                  >
                    Visit LinkedIn Profile
                  </a>
                </p>
              </div>
              <div class="w-full p-4">
                <p class="profile-bio-text">{{ profile.bio }}</p>
                <p style="text-align: center">
                  <button
                    class="wiof-primary-link"
                    (click)="profile.showKnowMore = true"
                  >
                    Read More
                  </button>
                </p>
              </div>
            </div>

            <!-- Expanded Profile View -->
            <div class="flex flex-wrap" *ngIf="profile.showKnowMore">
              <div class="w-full">
                <mat-card-title class="p-4">
                  <span class="profile-detail-bio-header">
                    About {{ profile.name }}
                  </span>
                  <span
                    class="close-icon"
                    (click)="profile.showKnowMore = false"
                  >
                    <mat-icon>close</mat-icon>
                  </span>
                </mat-card-title>
                <p class="profile-detail-bio">{{ profile.bio }}</p>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
  <app-wiof-footer></app-wiof-footer>
</div>
